!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("lodash"),require("xss"),require("autolinker"),require("moment")):"function"==typeof define&&define.amd?define("tools",["lodash","xss","autolinker","moment"],t):"object"==typeof exports?exports.tools=t(require("lodash"),require("xss"),require("autolinker"),require("moment")):e.tools=t(e.lodash,e.xss,e.autolinker,e.moment)}("undefined"!=typeof self?self:this,function(e,t,n,r){return function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){"use strict";(function(t){e.exports="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this}).call(t,n(6))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=function(){function e(){r(this,e),this.handlers=null,a.default.boot()}return u(e,[{key:"on",value:function(e,t){var n=this;this.handlers||(this.handlers={});var r=this.handlers[e];return r||(r=this.handlers[e]=[]),r.push(t),{name:e,callback:t,un:function(e,t){return n.un(e,t)}}}},{key:"un",value:function(e,t){if(this.handlers){var n=this.handlers[e],r=void 0;if(n)if(t)for(r=n.length-1;r>=0;r--)n[r]===t&&n.splice(r,1);else n.length=0}}},{key:"unAll",value:function(){this.handlers=null}},{key:"once",value:function(e,t){var n=this,r=function r(){for(var u=arguments.length,o=Array(u),a=0;a<u;a++)o[a]=arguments[a];t.apply(n,o),setTimeout(function(){n.un(e,r)},0)};return this.on(e,r)}},{key:"fireEvent",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.handlers&&a.default.get()){var u=this.handlers[e];u&&u.forEach(function(e){e.apply(void 0,n)})}}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=r(a),f=n(8),l=r(f),c=n(3),s=r(c),d=function(){function e(){u(this,e)}return o(e,null,[{key:"boot",value:function(){e.loc||(e.loc=i.default.location,setTimeout(e.validate,100))}},{key:"validate",value:function(){var t=e.loc.hostname;e.val=void 0!==e.valid.find(function(n){return t.endsWith(s.default.decrypt(e.key,n))})}},{key:"get",value:function(){return e.val}}]),e}();d.key=l.default.val.k,d.valid=l.default.val.d,d.loc=!1,d.val=!0,t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(9),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=function(){function e(){r(this,e)}return u(e,null,[{key:"encrypt",value:function(t,n){return n=e.xorEncrypt(t,n),e.b64Encode(n)}},{key:"decrypt",value:function(t,n){return n=e.b64Decode(n),e.xorDecrypt(t,n)}},{key:"b64Encode",value:function(t){var n,r,u,o,a,i,f,l,c,s=0,d="";if(!t)return t;"string"==typeof t&&(t=e.toArr(t));do{n=t[s++],r=t[s++],u=t[s++],l=n<<16|r<<8|u,o=l>>18&63,a=l>>12&63,i=l>>6&63,f=63&l,d+=e.b64Table.charAt(o)+e.b64Table.charAt(a)+e.b64Table.charAt(i)+e.b64Table.charAt(f)}while(s<t.length);return c=t.length%3,(c?d.slice(0,c-3):d)+"===".slice(c||3)}},{key:"b64Decode",value:function(t){var n,r,u,o,a,i,f,l,c=0,s=[];if(!t)return t;t+="";do{o=e.b64Table.indexOf(t.charAt(c++)),a=e.b64Table.indexOf(t.charAt(c++)),i=e.b64Table.indexOf(t.charAt(c++)),f=e.b64Table.indexOf(t.charAt(c++)),l=o<<18|a<<12|i<<6|f,n=l>>16&255,r=l>>8&255,u=255&l,s.push(n),64!==i&&(s.push(r),64!==f&&s.push(u))}while(c<t.length);return s}},{key:"keyCharAt",value:function(e,t){return e.charCodeAt(Math.floor(t%e.length))}},{key:"xorEncrypt",value:function(t,n){return a.default.map(n,function(n,r){return n.charCodeAt(0)^e.keyCharAt(t,r)})}},{key:"xorDecrypt",value:function(t,n){return a.default.map(n,function(n,r){return String.fromCharCode(n^e.keyCharAt(t,r))}).join("")}},{key:"toArr",value:function(e){return e.split("").map(function(e){return e.charCodeAt(0)})}}]),e}();i.b64Table="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=(u.default.requestAnimationFrame||u.default.webkitRequestAnimationFrame||u.default.mozRequestAnimationFrame||u.default.oRequestAnimationFrame||u.default.msRequestAnimationFrame||function(e,t){return setTimeout(e,1e3/60)}).bind(u.default),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0);Object.defineProperty(t,"root",{enumerable:!0,get:function(){return r(u).default}});var o=n(7);Object.defineProperty(t,"ajax",{enumerable:!0,get:function(){return r(o).default}});var a=n(3);Object.defineProperty(t,"Crypt",{enumerable:!0,get:function(){return r(a).default}});var i=n(2);Object.defineProperty(t,"Val",{enumerable:!0,get:function(){return r(i).default}});var f=n(10);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return r(f).default}});var l=n(11);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return r(l).default}});var c=n(1);Object.defineProperty(t,"Observer",{enumerable:!0,get:function(){return r(c).default}});var s=n(12);Object.defineProperty(t,"extend",{enumerable:!0,get:function(){return r(s).default}});var d=n(13);Object.defineProperty(t,"style",{enumerable:!0,get:function(){return r(d).default}});var v=n(4);Object.defineProperty(t,"requestAnimationFrame",{enumerable:!0,get:function(){return r(v).default}});var p=n(14);Object.defineProperty(t,"frame",{enumerable:!0,get:function(){return r(p).default}});var b=n(15);Object.defineProperty(t,"xss",{enumerable:!0,get:function(){return r(b).default}});var h=n(18);Object.defineProperty(t,"formatter",{enumerable:!0,get:function(){return r(h).default}});var y=n(20);Object.defineProperty(t,"download",{enumerable:!0,get:function(){return r(y).default}})},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){var t=new o.default,n=new XMLHttpRequest,r=!1;return n.open(e.method||"GET",e.url,!0),n.responseType=e.responseType||"json",n.addEventListener("progress",function(e){t.fireEvent("progress",e),e.lengthComputable&&e.loaded===e.total&&(r=!0)}),n.addEventListener("load",function(e){r||t.fireEvent("progress",e),t.fireEvent("load",e),200===n.status||206===n.status?t.fireEvent("success",n.response,e):t.fireEvent("error",e)}),n.addEventListener("error",function(e){return t.fireEvent("error",e)}),n.send(),t.xhr=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var u=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(u);e.exports=t.default},function(e,t){e.exports={val:{k:"262034984982620326203498",d:["XllRUV9cVktA","AwQFHgMaCRYF","VkVdRV1QF1lBXVFd","V1tTXlJAXBZYUE5X"]}}},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){var t=-1/0;return Object.keys(e).forEach(function(n){e[n]>t&&(t=e[n])}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){var t=Number(1/0);return Object.keys(e).forEach(function(n){e[n]<t&&(t=e[n])}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach(function(t){Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return Object.keys(t).forEach(function(n){e.style[n]!==t[n]&&(e.style[n]=t[n])}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,o.default)(function(){return e.apply(void 0,n)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var u=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(u);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(e){return e?(0,f.default)(e,{whiteList:[],stripIgnoreTag:!0,stripIgnoreTagBody:["script"]}):e}function o(e){if(""===e.trim())return e;var t=document.createElement("a");return t.href=u(e),t.protocol+"//"+t.host+t.pathname+t.search+t.hash}function a(e){return e?c.default.link((0,f.default)(e,{whiteList:{article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],div:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},stripIgnoreTag:!0,stripIgnoreTagBody:["script"]})):e}Object.defineProperty(t,"__esModule",{value:!0}),t.removeHtml=u,t.filterUrl=o,t.filterHtml=a;var i=n(16),f=r(i),l=n(17),c=r(l);t.default={removeHtml:u,filterUrl:o,filterHtml:a}},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(19),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=function(){function e(){r(this,e)}return u(e,null,[{key:"number",value:function(t){for(var n=0;n<e.numberRanges.length;n++)if(t>=e.numberRanges[n].divider)return(t/e.numberRanges[n].divider).toFixed(1).toString()+e.numberRanges[n].suffix;return t.toString()}},{key:"data",value:function(t){for(var n=0;n<e.dataRanges.length;n++)if(t>=e.dataRanges[n].divider)return(t/e.dataRanges[n].divider).toFixed(1).toString()+e.dataRanges[n].suffix;return t.toString()}},{key:"sbd",value:function(e,t,n,r){e="string"==typeof e?e.split(" ")[0]:e,t=t||2,n=n||".",r=r||",";var u=e<0?"-":"",o=String(parseInt(e=Math.abs(Number(e)||0).toFixed(t),10)),a=o.length;return a=a>3?a%3:0,u+(a?o.substr(0,a)+r:"")+o.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+r)+(t?n+Math.abs(e-o).toFixed(t).slice(2):"")}},{key:"dateFromNow",value:function(e){return(0,a.default)(e+"Z").fromNow()}},{key:"time",value:function(e){return isNaN(e)?"0:00":(0,a.default)("2015-01-01").startOf("day").seconds(e).format("H:mm:ss").replace(/^0:[0]{0,1}/,"")}}]),e}();i.numberRanges=[{divider:1e18,suffix:"Qi"},{divider:1e15,suffix:"Qa"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"B"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"K"}],i.dataRanges=[{divider:1e18,suffix:"P"},{divider:1e15,suffix:"E"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"K"}],t.default=i,e.exports=t.default},function(e,t){e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=navigator.userAgent.toLowerCase().indexOf("chrome")>-1,r=navigator.userAgent.toLowerCase().indexOf("safari")>-1;if(-1===navigator.userAgent.indexOf("iP")&&(n||r)){var u=document.createElement("a");if(u.href=e,void 0!==u.download&&(t||(t=e.substring(e.lastIndexOf("/")+1)),u.download=t),document.createEvent){var o=document.createEvent("MouseEvents");return o.initEvent("click",!0,!0),void u.dispatchEvent(o)}}-1===e.indexOf("?")&&(e+="?download"),window.open(e,"_self")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default}])});